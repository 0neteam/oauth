<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- Bootstrap CSS -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">

    <!-- Font Awesome -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css" rel="stylesheet">

    <!-- Custom Styles -->
    <style>
        @import url(http://weloveiconfonts.com/api/?family=brandico|entypo|openwebicons|zocial);

        /* brandico */
        [class*="brandico-"]:before {
            font-family: 'brandico', sans-serif;
        }

        /* entypo */
        [class*="entypo-"]:before {
            font-family: 'entypo', sans-serif;
        }

        /* openwebicons */
        [class*="openwebicons-"]:before {
            font-family: 'OpenWeb Icons', sans-serif;
        }

        /* zocial */
        [class*="zocial-"]:before {
            font-family: 'zocial', sans-serif;
        }

        .form-signin {
            max-width: 330px;
            padding: 20px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 10px;  /* 둥근 테두리 */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);  /* 부드러운 그림자 */
            border: 1px solid #e0e0e0;  /* 엣지에 경계선 추가 */
        }

        .login-input {
            margin-bottom: -1px;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .login-input-pass {
            margin-bottom: 10px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }

        .signup-input {
            margin-bottom: -1px;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .signup-input-confirm {
            margin-bottom: 10px;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }

        .create-account {
            text-align: center;
            width: 100%;
            display: block;
        }

        .form-signin .form-control {
            position: relative;
            font-size: 16px;
            height: auto;
            padding: 10px;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }

        .btn-center {
            width: 50%;
            text-align: center;
            margin: inherit;
        }

        .social-login-btn {
            margin: 5px;
            width: 20%;
            font-size: 250%;
            padding: 0;
        }

        .social-login-more {
            width: 45%;
        }

        .social-google {
            background-color: #da573b;
            border-color: #be5238;
        }

        .social-google:hover {
            background-color: #be5238;
            border-color: #9b4631;
        }

        .social-twitter {
            background-color: #1daee3;
            border-color: #3997ba;
        }

        .social-twitter:hover {
            background-color: #3997ba;
            border-color: #347b95;
        }

        .social-facebook {
            background-color: #4c699e;
            border-color: #47618d;
        }

        .social-facebook:hover {
            background-color: #47618d;
            border-color: #3c5173;
        }

        .social-linkedin {
            background-color: #4875B4;
            border-color: #466b99;
        }

        .social-linkedin:hover {
            background-color: #466b99;
            border-color: #3b5a7c;
        }
    </style>

</head>
<body>
<div class="container">
    <div class="container text-center">
        <form class="form-signin" id="signInForm" method="POST" action="/signIn">
            <h2 class="form-signin-heading">Sign in</h2>
            <small class="text-muted">Connect Cafe & Blog with your favorite social network</small>
            <br><br>

            <p>
                <a class="btn btn-primary social-login-btn social-facebook" href="/auth/facebook"><i class="fa fa-facebook"></i></a>
                <a class="btn " href="/oauth2/login/naver" style="padding: 1px 6px;">
                    <img src="/naver.png" alt="Naver" style="width: 55px; height: 50;"/>
                </a>
            </p>
            <p>
                <a class="btn btn-primary social-login-btn social-linkedin" href="/auth/linkedin"><i class="fa fa-linkedin"></i></a>
                <a class="btn btn-primary social-login-btn social-google" href="/auth/google"><i class="fa fa-google-plus"></i></a>
            </p>

            <small class="text-muted">Or sign in with cafe & blog</small>
            <br><br>

            <input class="form-control login-input" name="id" id="id" placeholder="Email Address" type="text" required>
            <input class="form-control login-input-pass" name="pwd" id="pwd" placeholder="Password" type="password" required>

            <button class="btn btn-lg btn-primary btn-block btn-center" type="submit">Sign in</button>
            <br>
            <small class="create-account text-muted">Don't have a cafe & blog or social network account? <a class="btn btn-sm btn-default" href="/signUp">Sign Up</a></small>
        </form>
    </div>
</div>

<!-- jQuery and Bootstrap JS -->
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<!-- Axios -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
    // Form submit handler
    document.getElementById('signInForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent default form submission

        // Get form data
        const user = {
            id: document.getElementById('id').value,
            pwd: document.getElementById('pwd').value
        };

        // Send data using Axios
        axios
            .post('http://localhost:9000/signIn', user, { withCredentials: true })
            .then((res) => {
                console.log(res);
                if (res.data === true) {
                    console.log(res.data)
                    document.location.href = "/"; // Redirect to home
                }
            })
            .catch((err) => {
                console.log(err);
            });
    });
</script>
</body>
</html>
